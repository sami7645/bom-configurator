<!DOCTYPE html>
<html>
<head>
    <title>Frontend Test</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Frontend API Test</h1>
    
    <select id="schachttyp">
        <option value="">Select...</option>
        <option value="GN R Kompakt">GN R Kompakt</option>
        <option value="GN X1">GN X1</option>
    </select>
    
    <select id="hvbSize">
        <option value="">Select...</option>
        <option value="63">63mm</option>
        <option value="75">75mm</option>
    </select>
    
    <button onclick="testAPI()">Test API</button>
    
    <div id="result"></div>
    
    <script>
    function testAPI() {
        const schachttyp = $('#schachttyp').val();
        const hvbSize = $('#hvbSize').val();
        
        console.log('Testing with:', { schachttyp, hvbSize });
        
        $.ajax({
            url: 'http://localhost:8000/api/sonden-options/',
            method: 'POST',
            data: JSON.stringify({
                schachttyp: schachttyp,
                hvb_size: hvbSize
            }),
            contentType: 'application/json',
            success: function(data) {
                console.log('Success:', data);
                $('#result').html('<pre>' + JSON.stringify(data, null, 2) + '</pre>');
            },
            error: function(xhr, status, error) {
                console.error('Error:', { xhr, status, error });
                $('#result').html('Error: ' + error);
            }
        });
    }
    </script>
</body>
</html>
